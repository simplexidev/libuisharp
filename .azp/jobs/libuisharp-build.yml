########################################################################################################################
# FileName:             build-libuisharp-project.yml
# Copyright/License:    https://github.com/tom-corwin/libuisharp/blob/master/LICENSE.md
########################################################################################################################

parameters:
- name: name
  type: string
  default: ''
- name: displayName
  type: string
  default: ''
- name: projectName
  type: string
  default: ''
- name: projectType
  type: string
  default: 'sources'
  values:
  - 'sources'
  #- 'examples'
  #- 'tests'
- name: pool
  type: object
  default: {}

jobs:
- job: '${{ parameters.name }}_Debug'
  displayName: '${{ parameters.displayName }} (Debug)'
  pool: ${{ parameters.pool }}
  workspace:
    clean: all
  steps:
  - template: ../steps/install-dotnet-sdk.yml
  - template: ../steps/dotnet-build.yml
    parameters:
      projectName: '${{ parameters.projectName }}'
      projectType: '${{ parameters.projectType }}'
      configuration: 'Debug'

- job: '${{ parameters.jobNamePrefix }}_Release'
  displayName: '${{ parameters.displayName }} (Release)'
  pool: ${{ parameters.pool }}
  workspace:
    clean: all
  steps:
  - template: ../steps/install-dotnet-sdk.yml
  - template: ../steps/dotnet-build.yml
    parameters:
      projectName: '${{ parameters.projectName }}'
      projectType: '${{ parameters.projectType }}'
      configuration: 'Release'